<?xml version="1.0" encoding="iso-8859-1" ?><app name="Bolaji.net v6">	<services>		<service name="Media">			<provider name="GetTopSongsList" returns="SongInfo">				<query><![CDATA[select topsongs.id,artistsong.songid,artistsong.artistid,artist.name as artistname,artist.nameid as artistnameid,albumid,title,tracknum,url,artistsong.description,songyear,artistsong.dateadded,artistsong.lastupdatedate,external,stream,numofplays from topsongs join artistsong on artistsong.songid=topsongs.songid join artist on topsongs.artistid=artist.artistid where topsongs.rank=? order by topsongs.id limit ?,?]]></query>					<params>						<param id="0" type="number" name="rank" />						<param id="1" type="number" name="page" />						<param id="2" type="number" name="offset" value="12" allowoverride="true" />					</params>			</provider>			<provider name="GetMusicVideosList" returns="VideoInfo">				<query><![CDATA[select artist.artistid,artist.name as artistname,artist.nameid,artistvideo.videoid,artistvideo.title,artistvideo.url,artistvideo.thumburl from artistvideo join artist on artistvideo.artistid=artist.artistid order by artist.name and artistvideo.dateadded limit ?, ?]]></query>					<params>						<param id="0" type="number" name="page" />						<param id="1" type="number" name="offset" value="20" allowoverride="true" />					</params>			</provider>			<provider name="GetTopVideosList" returns="VideoInfo">				<query><![CDATA[select artist.artistid,artist.name as artistname,artist.nameid,topartistvideos.videoid,artistvideo.title,artistvideo.url,artistvideo.thumburl from topartistvideos join artist on topartistvideos.artistid=artist.artistid join artistvideo on topartistvideos.videoid=artistvideo.videoid where rank=? order by topartistvideos.id limit ?, ?]]></query>					<params>						<param id="0" type="number" name="rank" />						<param id="1" type="number" name="page" />						<param id="2" type="number" name="offset" value="12" allowoverride="true" />					</params>			</provider>			<provider name="SaveIfNotExistsArtistInfo">				<conditions>					<iff>GetArtistByName</iff>					<then>SaveArtistInfo</then>				</conditions>			</provider>			<provider name="SaveArtistInfo" returns="ObjectID">				<query><![CDATA[insert into artist (name,nameid,profile,description,dateadded) values (?,?,?,?,?)]]></query>					<params>						<param id="0" type="string" name="name" />						<param id="1" type="string" name="nameid" />						<param id="2" type="string" name="profile" value="" />						<param id="3" type="string" name="description" value="" />						<param id="4" type="date" name="dateadded" value="SYSDATE" />					</params>			</provider>			<provider name="UpdateArtistInfo" returns="ArtistInfo">				<query><![CDATA[update artist set name=?,nameid=?,profile=?,description=?,lastupdatedate=? where artistid=?]]></query>				<params>					<param id="0" type="string" name="name" />					<param id="1" type="string" name="nameid" />					<param id="2" type="string" name="profile" value="" />					<param id="3" type="string" name="description" value="" />					<param id="4" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="5" type="number" name="artistid" />				</params>			</provider>			<provider name="SaveIfNotExistsSongInfo">				<conditions>					<iff>GetSongByName</iff>					<then>SaveSongInfo</then>				</conditions>			</provider>			<provider name="SaveSongInfo" returns="ObjectID">				<query><![CDATA[insert into artistsong (artistid,albumid,title,tracknum,url,description,songyear,dateadded) values (?,?,?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="artistid" />					<param id="1" type="number" name="albumid" />					<param id="2" type="string" name="title" />					<param id="3" type="number" name="tracknum" />					<param id="4" type="string" name="url" />					<param id="5" type="string" name="description" value="" />					<param id="6" type="number" name="songyear" value="9999" />					<param id="7" type="date" name="dateadded" value="SYSDATE" />			   </params>			</provider>			<provider name="UpdateSongInfo" returns="SongInfo">				<query><![CDATA[update artistsong set artistid=?,title=?,tracknum=?,url=?,description=?,songyear=?,external=?,lastupdatedate=? where songid=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="title" />					<param id="2" type="number" name="tracknum" />					<param id="3" type="string" name="url" />					<param id="4" type="string" name="description" value="" />					<param id="5" type="number" name="songyear" />					<param id="6" type="string" name="external" value="0" />					<param id="7" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="8" type="number" name="songid" />				</params>			</provider>			<provider name="UpdateSongVideoMapping" returns="SongInfo">				<query><![CDATA[update artistsong set videoid=? where songid=? and artistid=?]]></query>				<params>					<param id="0" type="number" name="videoid" />					<param id="1" type="number" name="songid" />					<param id="2" type="number" name="artistid" />				</params>			</provider>			<provider name="UpdateSongNumOfPlay" returns="SongInfo">				<query><![CDATA[update artistsong set numofplays=numofplays+1 where songid=?]]></query>				<params>					<param id="0" type="number" name="id" />				</params>			</provider>			<provider name="SaveIfNotExistsArtistVideoInfo">				<conditions>					<iff>GetArtistVideoByName</iff>					<then>SaveArtistVideoInfo</then>				</conditions>			</provider>			<provider name="SaveArtistVideoInfo" returns="ObjectID">				<query><![CDATA[insert into artistvideo (artistid,title,url,thumburl,description,dateadded,external) values (?,?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="title" />					<param id="2" type="string" name="url" />					<param id="3" type="string" name="thumburl" />					<param id="4" type="string" name="description" value="" />					<param id="5" type="date" name="dateadded" value="SYSDATE" />					<param id="6" type="string" name="external" value="0" />			   </params>			</provider>			<provider name="UpdateArtistVideoInfo" returns="VideoInfo">				<query><![CDATA[update artistvideo set artistid=?,title=?,url=?,thumburl=?,description=?,external=?,lastupdatedate=? where videoid=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="title" />					<param id="2" type="string" name="url" />					<param id="3" type="string" name="thumburl" />					<param id="4" type="string" name="description" value="" />					<param id="5" type="string" name="external" value="0" />					<param id="6" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="7" type="number" name="videoid" />				</params>			</provider>			<provider name="UpdateArtistVideoNumOfPlay" returns="VideoInfo">				<query><![CDATA[update artistvideo set numofplays=numofplays+1 where videoid=?]]></query>				<params>					<param id="0" type="number" name="id" />				</params>			</provider>			<provider name="SaveIfNotExistsAlbumInfo">				<conditions>					<iff>GetAlbumByName</iff>					<then>SaveAlbumInfo</then>				</conditions>			</provider>			<provider name="SaveAlbumInfo" returns="ObjectID">				<query><![CDATA[insert into artistalbum (artistid,title,description,albumart,albumyear,dateadded) values (?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="album" />					<param id="2" type="string" name="description" value="" />					<param id="3" type="string" name="albumart" value="" />					<param id="4" type="number" name="albumyear" value="9999" />					<param id="5" type="date" name="dateadded" value="SYSDATE" />			   </params>			</provider>			<provider name="UpdateAlbumInfo" returns="AlbumInfo">				<query><![CDATA[update artistalbum set artistid=?,title=?,description=?,albumart=?,albumyear=?,lastupdatedate=? where albumid=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="title" />					<param id="2" type="number" name="description" value="" />					<param id="3" type="string" name="albumart" />					<param id="4" type="number" name="albumyear" />					<param id="5" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="6" type="number" name="albumid" />				</params>			</provider>			<provider name="GetArtistBySongId" returns="ArtistInfo">				<query><![CDATA[select a.artistid,a.name,a.nameid,a.profile,a.description,a.dateadded,a.lastupdatedate from artist a join artistsong s on s.artistid=a.artistid where s.songid=?]]></query>				<params>					<param id="0" type="number" name="songid" />				</params>			</provider>			<provider name="GetArtistByVideoId" returns="ArtistInfo">				<query><![CDATA[select a.artistid,a.name,a.nameid,a.profile,a.description,a.dateadded,a.lastupdatedate from artist a join artistvideo v on v.artistid=a.artistid where v.videoid=?]]></query>				<params>					<param id="0" type="number" name="videoid" />				</params>			</provider>			<provider name="GetAllArtistsByName" returns="ArtistInfo">				<query><![CDATA[select artistid,name,nameid,profile,description,dateadded,lastupdatedate from artist where name regexp ? order by artist.name]]></query>				<params>					<param id="0" type="date" name="name" />				</params>			</provider>			<provider name="GetAllArtists" returns="ArtistInfo">				<query><![CDATA[select artistid,name,nameid,profile,description,dateadded,lastupdatedate from artist limit ?, ?]]></query>				<params>					<param id="0" type="number" name="page" />					<param id="1" type="number" name="offset" value="PAGING_OFFSET" valuetype="Configuration" />				</params>			</provider>			<provider name="GetArtistById" returns="ArtistInfo">				<query><![CDATA[select artistid,name,nameid,profile,description,dateadded,lastupdatedate from artist where artistid=?]]></query>				<params>					<param id="0" type="number" name="artistid" />				</params>			</provider>			<provider name="GetArtistVideoById" returns="VideoInfo">				<query><![CDATA[select v.videoid,v.artistid,v.title,a.artistid,a.name as artistname,a.nameid as artistnameid,url,thumburl,external,sourceid,stream,numofplays,v.description,v.dateadded,v.lastupdatedate,length from artistvideo v join artist a on v.artistid=a.artistid where v.artistid=? and v.videoid=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="number" name="videoid" />				</params>			</provider>			<provider name="GetSongById" returns="SongInfo">				<query><![CDATA[select songid,s.artistid,albumid,title,a.artistid,a.name as artistname,a.nameid as artistnameid,tracknum,url,s.description,songyear,s.dateadded,s.lastupdatedate,external,stream,numofplays,length from artistsong s join artist a on s.artistid=a.artistid where s.artistid=? and s.songid=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="number" name="songid" />				</params>			</provider>			<provider name="GetArtistByName" returns="ArtistInfo">				<query><![CDATA[select artistid,name,nameid,profile,description,dateadded,lastupdatedate from artist where nameid=?]]></query>				<params>					<param id="0" type="string" name="nameid" />				</params>			</provider>			<provider name="GetSongByName" returns="SongInfo">				<query><![CDATA[select songid,artistid,albumid,title,tracknum,url,description,songyear,dateadded,lastupdatedate,external,stream,numofplays,length from artistsong where artistid=? and title=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="title" />				</params>			</provider>			<provider name="GetArtistVideoByName" returns="VideoInfo">				<query><![CDATA[select videoid,artistid,title,url,thumburl,external,sourceid,stream,numofplays,description,dateadded,lastupdatedate,length from artistvideo where artistid=? and title=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="title" />				</params>			</provider>			<provider name="GetAlbumByName" returns="AlbumInfo">				<query><![CDATA[select albumid,artistid,title,description,albumart,albumyear,dateadded,lastupdatedate from artistalbum where artistid=? and title=?]]></query>				<params>					<param id="0" type="number" name="artistid" />					<param id="1" type="string" name="album" />				</params>			</provider>			<provider name="GetArtistAlbums" returns="AlbumInfo">				<query><![CDATA[select albumid,artistid,title,description,albumart,albumyear,dateadded,lastupdatedate from artistalbum where artistid=? order by albumyear and artistalbum.dateadded asc]]></query>				<params>					<param id="0" type="number" name="artistid"></param>				</params>			</provider>			<provider name="GetAlbumInfo" returns="AlbumInfo">				<query><![CDATA[select albumid,artistid,title,description,albumart,albumyear,dateadded,lastupdatedate from artistalbum where albumid=?]]></query>				<params>					<param id="0" type="number" name="albumid"></param>				</params>			</provider>			<provider name="GetVideoInfo" returns="VideoInfo">				<query><![CDATA[select videoid,artist.artistid,artist.name as artistname,artist.nameid as artistnameid,title,url,thumburl,external,sourceid,stream,numofplays,artistvideo.description,artistvideo.dateadded,artistvideo.lastupdatedate from artistvideo  join artist on artistvideo.artistid=artist.artistid where videoid=?]]></query>				<params>					<param id="0" type="number" name="videoid" />				</params>			</provider>			<provider name="GetArtistVideos" returns="VideoInfo">				<query><![CDATA[select videoid,artistvideo.artistid,artist.name as artistname,artist.nameid as artistnameid,title,url,thumburl,external,sourceid,stream,numofplays,artistvideo.description,artistvideo.dateadded,artistvideo.lastupdatedate,artistvideo.length from artistvideo join artist on artistvideo.artistid=artist.artistid where artistvideo.artistid=? order by artistvideo.title and artistvideo.dateadded]]></query>				<params>					<param id="0" type="number" name="artistid" />				</params>			</provider>			<provider name="GetMusicVideosListCount" returns="Counter">				<query><![CDATA[select count(videoid) as count from artistvideo]]></query>			</provider>		<provider name="GetArtistSongs" returns="SongInfo">				<query><![CDATA[select songid,artist.artistid,artist.name as artistname,albumid,title,tracknum,url,artistsong.description,songyear,artistsong.dateadded,artistsong.lastupdatedate,external,stream,numofplays,length from artistsong join artist on artist.artistid=artistsong.artistid where artistsong.artistid=? order by title and artistsong.dateadded]]></query>				<params>					<param id="0" type="number" name="artistid" />				</params>			</provider>		</service>		<service name="Video">			<provider name="ServiceNotImplemented" returns="Nothing" />			<provider name="SaveIfNotExistsVideoInfo">				<conditions>					<iff>GetVideoByName</iff>					<then>SaveVideoInfo</then>				</conditions>			</provider>			<provider name="SaveIfNotExistsVideoCollInfo">				<conditions>					<iff>GetVideoCollByName</iff>					<then>SaveVideoCollInfo</then>				</conditions>			</provider>			<provider name="SaveVideoInfo" returns="ObjectID">				<query><![CDATA[insert into videos (groupid,categoryid,sourceid,typeid,ownerid,title,url,thumburl,description,dateadded,external) values (?,?,?,?,?,?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="groupid" />			   		<param id="1" type="number" name="categoryid" />			   		<param id="2" type="number" name="sourceid" />			   		<param id="3" type="number" name="typeid" />			   		<param id="4" type="number" name="ownerid" />					<param id="5" type="string" name="title" />					<param id="6" type="string" name="url" />					<param id="7" type="string" name="thumburl" />					<param id="8" type="string" name="description" value="" />					<param id="9" type="date" name="dateadded" value="SYSDATE" />					<param id="10" type="string" name="external"  value="0" allowoverride="true" />			   </params>			</provider>			<provider name="SaveVideoCollInfo" returns="ObjectID">				<query><![CDATA[insert into videoscoll (categoryid,ownerid,typeid,sourceid,title,thumburl,description,dateadded,numofvids) values (?,?,?,?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="categoryid" />			   		<param id="1" type="number" name="ownerid" />			   		<param id="2" type="number" name="typeid" />					<param id="3" type="number" name="sourceid" />					<param id="4" type="string" name="title" />					<param id="5" type="string" name="thumburl" />					<param id="6" type="string" name="description" value="" />					<param id="7" type="date" name="dateadded" value="SYSDATE" />					<param id="8" type="number" name="numofvids" />			   </params>			</provider>			<provider name="UpdateVideoCollInfo" returns="ObjectID">				<query><![CDATA[update videoscoll set categoryid=?,ownerid=?,typeid=?,sourceid=?,title=?,thumburl=?,description=?,dateadded=?,numofvids=? where videocollid=?]]></query>			   <params>			   		<param id="0" type="number" name="categoryid" />			   		<param id="1" type="number" name="ownerid" />			   		<param id="2" type="number" name="typeid" />					<param id="3" type="number" name="sourceid" />					<param id="4" type="string" name="title" />					<param id="5" type="string" name="thumburl" />					<param id="6" type="string" name="description" value="" />					<param id="7" type="date" name="dateadded" value="SYSDATE" />					<param id="8" type="number" name="numofvids" />					<param id="9" type="number" name="collid" />			   </params>			</provider>			<provider name="UpdateVideoInfo" returns="VideoInfo">				<query><![CDATA[update videos set groupid=?,categoryid=?,sourceid=?,typeid=?,title=?,url=?,thumburl=?,description=?,external=?,lastupdatedate=? where videoid=?]]></query>				<params>					<param id="0" type="number" name="groupid" value="0" />					<param id="1" type="number" name="categoryid" value="0" />					<param id="2" type="number" name="sourceid" value="0" />					<param id="3" type="number" name="typeid" value="0" />					<param id="4" type="string" name="title" />					<param id="5" type="string" name="url" />					<param id="6" type="string" name="thumburl" />					<param id="7" type="string" name="description" value="" />					<param id="8" type="string" name="external" value="0" />					<param id="9" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="10" type="number" name="videoid" />				</params>			</provider>			<provider name="GetVideoByName" returns="VideoInfo">				<query><![CDATA[select videoid,categoryid,sourceid,url,thumburl,external,sourceid,stream,numofplays,description,dateadded,lastupdatedate,length from videos where title=?]]></query>				<params>					<param id="0" type="string" name="title" />				</params>			</provider>			<provider name="GetVideoCollByName" returns="VideoInfo">				<query><![CDATA[select videocollid as videoid,categoryid,sourceid,thumburl,sourceid,numofplays,numofvids,description,dateadded,lastupdatedate from videoscoll where title=?]]></query>				<params>					<param id="0" type="string" name="title" />				</params>			</provider>			<provider name="UpdateVideoNumOfPlay" returns="VideoInfo">				<query><![CDATA[update videos set numofplays=numofplays+1 where videoid=?]]></query>				<params>					<param id="0" type="number" name="id" />				</params>			</provider>			<provider name="UpdateVideoCollNumOfVids" returns="VideoInfo">				<query><![CDATA[update videoscoll set numofvids=? where videocollid=?]]></query>				<params>					<param id="0" type="number" name="numofvids" />					<param id="1" type="number" name="id" />				</params>			</provider>			<provider name="GetVideoInfo" returns="VideoInfo">				<query><![CDATA[select videos.videoid,videos.groupid as collid,videos.categoryid,videos.sourceid,videos.typeid,videos.ownerid,videos.title,videos.url,videos.thumburl,videos.thumburl,videos.external,videos.stream,videos.numofplays,videos.description,videos.dateadded,videos.lastupdatedate,videos.length from videos where videos.videoid=?]]></query>				<params>					<param id="0" type="number" name="videoid" />				</params>			</provider>			<provider name="GetVideosCollList" returns="VideoInfo">				<query><![CDATA[select videos.videoid,videos.groupid as collid,videos.categoryid,videos.sourceid,videos.typeid,videos.ownerid,videos.title,videos.url,videos.thumburl,videos.thumburl,videos.external,videos.stream,videos.numofplays,videos.description,videos.dateadded,videos.lastupdatedate,videos.length from videos join videoscoll on videos.groupid=videoscoll.videocollid where videos.groupid=? and videoscoll.videocollid=videos.groupid  order by videos.dateadded asc, videos.groupid]]></query>				<params>					<param id="0" type="number" name="groupid" />				</params>			</provider>			<provider name="GetTopVideosList" returns="VideoInfo">				<query><![CDATA[select videos.videoid,videos.groupid as collid,videos.title,videos.typeid,videos.categoryid,videos.ownerid,videos.url,videos.thumburl,videos.numofplays,videos.description,videos.length from topvideos join videos on topvideos.videoid=videos.videoid where topvideos.rank=? order by topvideos.id limit ?, ? ]]></query>					<params>						<param id="0" type="number" name="rank" />						<param id="1" type="number" name="page" />						<param id="2" type="number" name="offset" value="3" allowoverride="true" />					</params>			</provider>			<provider name="GetVideosList" returns="VideoInfo">				<query><![CDATA[select videos.videoid,videos.groupid as collid,videos.categoryid,videos.sourceid,videos.typeid,videos.ownerid,videos.title,videos.url,videos.thumburl,videos.external,videos.stream,videos.numofplays,videos.description,videos.dateadded,videos.lastupdatedate,videos.length from videos order by videos.dateadded desc, videos.groupid limit ?,?]]></query>				<params>					<param id="0" type="number" name="page" />					<param id="1" type="number" name="offset" value="15" allowoverride="true" />				</params>			</provider>			<provider name="GetVideosListCount" returns="Counter">				<query><![CDATA[select count(videos.videoid) as count from videos]]></query>			</provider>			<provider name="ValidateVideoUpload">				<validator name="VideoUpload" />			</provider>		</service>		<service name="Gallery">			<provider name="SaveIfNotExistsGalleryInfo">				<conditions>					<iff>GetGalleryByName</iff>					<then>SaveGalleryInfo</then>				</conditions>			</provider>			<provider name="SaveGalleryInfo" returns="ObjectID">				<query><![CDATA[insert into photocoll (categoryid,ownerid,title,description,numofphotos,dateadded) values (?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="categoryid" value="0" />					<param id="1" type="number" name="ownerid" />					<param id="2" type="string" name="title" value="" allowoverride="" />					<param id="3" type="string" name="description" value="" allowoverride="true" />					<param id="4" type="number" name="numofphotos" />					<param id="5" type="date" name="dateadded" value="SYSDATE" />			   </params>			</provider>			<provider name="UpdateGalleryInfo" returns="PhotoInfo">				<query><![CDATA[update photocoll set categoryid=?, ownerid=?, title=?, description=?, lastupdatedate=? where photocollid=?]]></query>				<params>					<param id="0" type="number" name="categoryid" />					<param id="1" type="number" name="ownerid" />					<param id="2" type="string" name="title" value="" />					<param id="3" type="string" name="description" />					<param id="4" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="5" type="number" name="photocollid" />				</params>			</provider>			<provider name="SaveIfNotExistsPhotoInfo">				<conditions>					<iff>GetPhotoByName</iff>					<then>SavePhotoInfo</then>				</conditions>			</provider>			<provider name="SavePhotoInfo" returns="ObjectID">				<query><![CDATA[insert into photos (photocollid,photonum,categoryid,ownerid,sourceid,title,url,thumburl,description,external,dateadded) values (?,?,?,?,?,?,?,?,?,?,?)]]></query>			   <params>			   		<param id="0" type="number" name="collid" />					<param id="1" type="number" name="photonum" />					<param id="2" type="number" name="categoryid" value="0" />					<param id="3" type="number" name="ownerid" />					<param id="4" type="number" name="sourceid"  value="0" />					<param id="5" type="string" name="title"  value="" allowoverride="true" />					<param id="6" type="string" name="url"  />					<param id="7" type="string" name="thumburl"  />					<param id="8" type="string" name="description"  value="" allowoverride="true" />					<param id="9" type="string" name="external"  value="0" allowoverride="true" />					<param id="10" type="date" name="dateadded" value="SYSDATE" />			   </params>			</provider>			<provider name="UpdatePhotoInfo" returns="PhotoInfo">				<query><![CDATA[update photos set photocollid=?, categoryid=?, ownerid=?, title=?, url=?, thumburl=?, description=?, lastupdatedate=?, external=?, sourceid=? where photocollid=? and photoid=?]]></query>				<params>					<param id="0" type="number" name="collid" />					<param id="1" type="number" name="categoryid" />					<param id="2" type="number" name="ownerid" />					<param id="3" type="string" name="title" />					<param id="4" type="string" name="description"  />					<param id="5" type="string" name="url" />					<param id="6" type="string" name="thumburl" />					<param id="7" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="8" type="string" name="external" />					<param id="9" type="number" name="sourceid" />					<param id="10" type="number" name="photocollid" />					<param id="11" type="number" name="photoid" />				</params>			</provider>			<provider name="GetTopPhotosList" returns="PhotoInfo">				<query><![CDATA[select p.photocollid as collid,p.photoid,pc.title,p.ownerid,p.url,pc.numofviews,pc.numofphotos,pc.description from topphotos tp join photocoll pc on tp.photocollid=pc.photocollid join photos p on tp.photocollid=p.photocollid where tp.rank=? group by p.photocollid order by tp.id limit ?, ?]]></query>					<params>						<param id="0" type="number" name="rank" />						<param id="1" type="number" name="page" />						<param id="2" type="number" name="offset" value="6" allowoverride="true" />					</params>			</provider>			<provider name="GetPhotoInfo" returns="PhotoInfo">				<query><![CDATA[select p.photoid,p.photocollid as collid,p.photonum,p1.photonum as prevphotonum,p1.photoid as prevphotoid,p2.photonum as nextphotonum,p2.photoid as nextphotoid,p.ownerid,p.title,p.url,p.thumburl,p.numofviews,p.description from photos p left join photos p1 on (p.photocollid=p1.photocollid and p.photonum-1=p1.photonum) left join photos p2 on (p.photocollid=p2.photocollid and p.photonum+1=p2.photonum) where p.photoid=?]]></query>				<params>					<param id="0" type="number" name="photoid" />				</params>			</provider>			<provider name="ServiceNotImplemented" returns="Nothing" />			<provider name="GetPhotoGalleryList" returns="GalleryInfo">				<query><![CDATA[select p.photoid,p.photocollid as collid,p.photonum,p.ownerid,pc.title,p.url,p.thumburl,p.numofviews,pc.description,pc.numofphotos from photos p join photocoll pc on p.photocollid=pc.photocollid group by collid order by p.dateadded desc limit ?,?]]></query>				<params>					<param id="0" type="number" name="page" />					<param id="1" type="number" name="offset" value="10" />				</params>			</provider>			<provider name="GetPhotoGalleryInfo" returns="PhotoInfo">				<query><![CDATA[select p.photoid,p.photocollid as collid,p.photonum,p.categoryid,p.ownerid,p.title,p.url,p.thumburl,p.numofviews,p.description,g.photocollid as setid,g.title as settitle,g.description as setdescription from photos p join photocoll g on p.photocollid=g.photocollid where p.photocollid=?]]></query>				<params>					<param id="0" type="number" name="collid" />				</params>			</provider>			<provider name="GetPhotosListCount" returns="Counter">				<query><![CDATA[select count(distinct p.photocollid) as count from photos p]]></query>			</provider>			<provider name="ValidateGalleryUpload">				<validator name="GalleryUpload" />			</provider>		</service>		<service name="Marketplace">			<provider name="SaveMarketplaceItem" returns="ObjectID">				<query><![CDATA[insert into marketplaceitem (categoryid,ownerid,title,description,dateadded,lastupdatedate) values (?,?,?,?,?,?)]]></query>				<params>					<param id="0" type="number" name="category" />					<param id="1" type="number" name="ownerid" />					<param id="2" type="string" name="title" />					<param id="3" type="string" name="description" />					<param id="4" type="date" name="dateadded" value="SYSDATE" />					<param id="5" type="date" name="lastudatedate" value="SYSDATE" />				</params>			</provider>			<provider name="SaveMarketplaceImage" returns="ObjectID">				<query><![CDATA[insert into marketplaceimage (itemid,url,dateadded) values (?,?,?)]]></query>				<params>					<param id="0" type="number" name="itemid" />					<param id="1" type="string" name="url" />					<param id="2" type="date" name="dateadded" value="SYSDATE" />					</params>			</provider>			<provider name="GetCategoryList" returns="CategoryInfo">				<query><![CDATA[select mpc.categoryid,mpc.parentid,mpc.name,mpc.description,mpc.nameid as nameid,mpcc.name as parent,mpcc.nameid as parentnameid from marketplacecategory as mpc join marketplacecategory as mpcc on mpcc.categoryid = mpc.parentid where mpc.active='1' order by mpcc.nameid]]></query>			</provider>			<provider name="GetTopCategoryList" returns="CategoryInfo">				<query><![CDATA[select categoryid,name,nameid from marketplacecategory where parentid=0 and active='1' order by nameid]]></query> 			</provider>			<provider name="GetFeatureStoreList" returns="StoreInfo">				<query><![CDATA[select storeid,name,url,pic,feature,description from marketplacestore where feature=? order by storeid limit ?,?]]></query>				<params>					<param id="0" type="number" name="rank"  />					<param id="1" type="number" name="page" value="1" allowoverride="true" />					<param id="2" type="number" name="offset" value="20" allowoverride="true" />				</params>			</provider>			<provider name="GetMarketplaceItemsList" returns="MarketplaceInfo">				<query><![CDATA[select item.itemid,item.categoryid,category.name as categoryname,category.nameid as categorynameid,pcategory.name as pcategoryname,pcategory.nameid as pcategorynameid,item.ownerid,item.title,item.description,item.dateadded,item.lastupdatedate,image.url as imageurl,image.imageid from marketplaceitem item left join marketplaceimage image on item.itemid=image.itemid join marketplacecategory category on item.categoryid=category.categoryid  left join marketplacecategory pcategory on category.parentid=pcategory.categoryid where category.nameid=?  or pcategory.nameid=? group by item.itemid order by item.lastupdatedate desc limit ?,?]]></query>				<params>					<param id="0" type="string" name="category" />					<param id="1" type="string" name="category" />					<param id="2" type="number" name="page" />					<param id="3" type="number" name="offset" value="10" />				</params>			</provider>			<provider name="GetMarketplaceItem" returns="MarketplaceInfo">				<query><![CDATA[select item.itemid,item.categoryid,category.name,category.nameid,item.ownerid,item.title,item.description,item.dateadded,item.lastupdatedate,image.url as imageurl,image.imageid from marketplaceitem item left join marketplaceimage image on item.itemid=image.itemid join marketplacecategory category on item.categoryid=category.categoryid where item.itemid=? order by item.lastupdatedate]]></query>				<params>					<param id="0" type="number" name="itemid" />				</params>			</provider>			<provider name="GetMarketplaceItemsListCount" returns="Counter">				<query><![CDATA[select count(m.itemid) as count from marketplaceitem m join marketplacecategory mc on m.categoryid=mc.categoryid where mc.nameid=?]]></query>				<params>					<param id="0" type="string" name="category" />				</params>			</provider>			<provider name="SaveMarketplaceInfo">				<validator name="MarketplaceListing" />				<preconditions>					<precondition name="SaveMarketplaceItem" />					<precondition name="SaveMarketplaceImage" input="SaveMarketplaceItem" optional="true" />				</preconditions>			</provider>			<provider name="ValidateMarketplaceListing">				<validator name="MarketplaceListing" />			</provider>		</service>		<service name="User">			<provider name="SaveIfNotExistsUserInfo">				<conditions>					<iff>GetUserByEmail</iff>					<then>SaveUserInfo</then>				</conditions>			</provider>		 	<provider name="SaveUserInfo" returns="ObjectID">				<query><![CDATA[insert into user (firstname, lastname, name, email,dateadded, lastupdatedate,lastaccessdate) VALUES (?,?,?,?,?,?,?)]]></query>				<params>					<param id="0" type="string" name="firstname" value="" />					<param id="1" type="string" name="lastname" value="" />					<param id="2" type="string" name="name" />					<param id="3" type="string" name="email" />					<param id="4" type="date" name="dateadded" value="SYSDATE" />					<param id="5" type="date" name="lastupdatedate" value="SYSDATE" />					<param id="6" type="date" name="lastaccessdate" value="SYSDATE" />				</params>			</provider>			<provider name="GetUserByEmail" returns="UserInfo">				<preconditions>					<precondition name="UpdateUserLastAccessDate" />				</preconditions>				<query><![CDATA[select u.userid,u.firstname,u.lastname,u.name from user u where u.email=?]]></query>				<params>					<param id="0" type="string" name="email" />				</params>			</provider>			<provider name="UpdateUserLastAccessDate" returns="UserInfo">				<query><![CDATA[update user set user.lastaccessdate = ? where user.email = ?]]></query>				<params>					<param id="0" type="date" name="lastaccessdate" value="SYSDATE" />					<param id="1" type="string" name="email" />				</params>			</provider>		 	<provider name="SaveUserFeedback" returns="ObjectID">				<validator name="Default" />				<query><![CDATA[insert into feedback (userid,feedback,dateadded) VALUES (?,?,?)]]></query>				<params>					<param id="1" type="number" name="userid" />					<param id="2" type="string" name="comment" />					<param id="3" type="date" name="dateadded" value="SYSDATE" />				</params>			</provider>			<provider name="ValidateUserFeedback">				<validator name="Default" />			</provider>		</service>	</services>	<validators>		<validator name="Default" class="Validator.Class.DefaultValidator" />		<validator name="MarketplaceListing" class="Validator.Class.MarketplaceListing" />		<validator name="VideoUpload" class="Validator.Class.VideoUpload" />		<validator name="GalleryUpload" class="Validator.Class.GalleryUpload" />	</validators>	<datasources>		<datasource name="Local" username="wazobi" password="wazobi" host="localhost" schema="v6"  />		<datasource name="Other" username="dbo221134022" password=".9Z.5gpk" host="db1194.perfora.net" schema="db221134022" />		<datasource name="Staging" username="dbo221407534" password="hBQnRDjZ" host="72.47.204.132" schema="db221407534" />	</datasources></app>